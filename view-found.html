<script>
  const itemsContainer = document.getElementById("itemsContainer");

  db.collection("foundItems").orderBy("createdAt", "desc").get()
    .then(snapshot => {
      if (snapshot.empty) {
        itemsContainer.innerHTML = "<p class='text-center text-gray-600'>No found items yet.</p>";
      } else {
        snapshot.forEach(doc => {
          const item = doc.data();
          const card = document.createElement("div");
          card.className = "bg-gray-50 p-4 rounded shadow";

          card.innerHTML = `
            <h2 class="text-xl font-semibold text-blue-600">${item.itemName}</h2>
            <p class="text-sm text-gray-600">Found at: <strong>${item.location}</strong></p>
            <p class="text-gray-700 mt-1">${item.description}</p>
            <p class="text-sm text-gray-500 mt-2">Contact: ${item.contact}</p>
            <p class="text-xs text-gray-400 mt-1">${item.createdAt?.toDate().toLocaleString()}</p>
          `;

          itemsContainer.appendChild(card);
        });
      }
    })
    .catch(error => {
      console.error("Error fetching found items:", error);
      itemsContainer.innerHTML = "<p class='text-red-600'>Error loading items.</p>";
    });
</script>
